<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"/>
<div class = "container-fluid text-center">
  <script>
    function unhide(clickedButton, divID) {
      var item = document.getElementById(divID);
      if (item) {
        if(item.className=='hidden'){
          item.className = 'unhidden' ;
        }else{
          item.className = 'hidden';
        }
      }}
  </script>
  <h1>CSV to JSON converter for Sommely</h1>

  <div class = "row">
    <div class = "col-md-12 text-center">
      <div class = "btn-group">
        <form action="/upload" method="POST" enctype="multipart/form-data">
          <h3>Select a file to upload:</h3>
          <label class="btn btn-default center-block">
            Upload <input type="file" style="display: none;" name = "file" onchange="get_filename(this);">
          </label>
          <h4 id="filename"></h4>
          <script>
          function get_filename(obj) {
            var value = obj.value.split(/[\/\\]/).pop();
            //alert(value);
            document.getElementById("filename").innerHTML = "File: " + value;
          }
          </script>
          <h3>Variable mappings:</h3>
          Type the CSV header that matches the given attribute -- leave the box blank if the attribute isn't part of the CSV.<br><br>
          Wine name: <input type="text" name="name" placeholder="name"><br><br>
          Wine color: <input type="text" name="color" placeholder="color"><br><br>
          Wine price: <input type="text" name="price" placeholder="price"><br><br>
          Bottle volume: <input type="text" name="size" placeholder="size"><br><br>
          Vintage: <input type="text" name="vintage" placeholder="vintage"><br><br>
          Wine varietal: <input type="text" name="varietal" placeholder="varietal"><br><br>
          Quantity: <input type="text" name="quantity" placeholder="bottles"><br><br>
          Region: <input type="text" name="region" placeholder="region"><br><br>
          Winery: <input type="text" name="winery" placeholder="winery"><br><br>
          Year to drink by: <input type="text" name="drinkBy" placeholder="drinkBy"><br><br>
          Alcohol by volume: <input type="text" name="abv" placeholder="abv"><br><br>
          Image path: <input type="text" name="img_path" placeholder="img_path"><br><br>
          External image path: <input type="text" name="external_img_path" placeholder="external_img_path"><br><br>
          Rating value: <input type="text" name="ratingValue" placeholder="ratingValue"><br><br>
          Rating author: <input type="text" name="ratingAuthor" placeholder="ratingAuthor"><br><br>
          Rating text: <input type="text" name="ratingReview" placeholder="ratingReview"><br><br>
          Ready now: <input type="text" name="ready" placeholder="ready"><br><br>
          Special wine: <input type="text" name="special" placeholder="special"><br><br>
          Recently added: <input type="text" name="recentlyAdded" placeholder="recentlyAdded"><br><br>
          Food pairing: <input type="text" name="foodPairing" placeholder="foodPairing"><br><br>
          <!--fields to delete  -->
          <label class = "btn btn-default center-block" >
            Convert <input type="submit" style="display:none" onclick="unhide(this,'downloadfile')">
          </label>
        </form>
      </div>
    </div>
  </div>
  <div class = "row">
    <div class = "col-md-12 text-center">
      <div class = "hidden" id="downloadfile">
        <form method="post" action="/download">
          <input type="submit" value="Download" class = "btn btn-primary button-center">
        </form>
      </div>
    </div>
  </div>
</div>

<style>
  .button-center{
    text-align: center;
  }

  .hidden{
    display:none;
  }

  .unhidden{
    display:block;
  }
</style>
