<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"/>
<div class = "container-fluid text-center">
  <script>
    function unhide(clickedButton, divID) {
      var item = document.getElementById(divID);
      if (item) {
        if(item.className=='hidden'){
          item.className = 'unhidden' ;
        }else{
          item.className = 'hidden';
        }
      }}
  </script>
  <h1>CSV to JSON converter for Sommely</h1>

  <div class = "row">
    <div class = "col-md-12 text-center">
      <div class = "btn-group">
        <form action="/upload" method="POST" enctype="multipart/form-data">
          <h3>Select a file to upload:</h3>
          <label class="btn btn-default center-block">
            Upload <input type="file" style="display: none;" name = "file" onchange="get_filename(this);" onclick="unhide(this,'convertbutton');">
          </label>
          <h4 id="filename"></h4>
          <script>
          function get_filename(obj) {
            var value = obj.value.split(/[\/\\]/).pop();
            //alert(value);
            document.getElementById("filename").innerHTML = "File: " + value;
          }
          </script>
          <h3>Variable mappings:</h3>
          Type the CSV header that matches the given attribute -- leave the box blank if the attribute isn't part of the CSV.<br><br>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Wine name:
            </div>
            <div class = "col-md-3">
              <input type="text" name="name" placeholder="name">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Wine color:
            </div>
            <div class = "col-md-3">
              <input type="text" name="color" placeholder="color">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Wine price:
            </div>
            <div class = "col-md-3">
              <input type="text" name="price" placeholder="price">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Bottle volume:
            </div>
            <div class = "col-md-3">
              <input type="text" name="size" placeholder="size">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Vintage:
            </div>
            <div class = "col-md-3">
              <input type="text" name="vintage" placeholder="vintage">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Wine varietal:
            </div>
            <div class = "col-md-3">
              <input type="text" name="varietal" placeholder="varietal">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Quantity:
            </div>
            <div class = "col-md-3">
              <input type="text" name="quantity" placeholder="bottles">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Region:
            </div>
            <div class = "col-md-3">
              <input type="text" name="region" placeholder="region">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Winery:
            </div>
            <div class = "col-md-3">
              <input type="text" name="winery" placeholder="winery">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Year to drink by:
            </div>
            <div class = "col-md-3">
              <input type="text" name="drinkBy" placeholder="drinkBy">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Alcohol by volume:
            </div>
            <div class = "col-md-3">
              <input type="text" name="abv" placeholder="abv">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Image path:
            </div>
            <div class = "col-md-3">
              <input type="text" name="img_path" placeholder="img_path">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              External image path:
            </div>
            <div class = "col-md-3">
              <input type="text" name="external_img_path" placeholder="external_img_path">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Rating value:
            </div>
            <div class = "col-md-3">
              <input type="text" name="ratingValue" placeholder="ratingValue">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Rating author:
            </div>
            <div class = "col-md-3">
              <input type="text" name="ratingAuthor" placeholder="ratingAuthor">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Rating text:
            </div>
            <div class = "col-md-3">
              <input type="text" name="ratingReview" placeholder="ratingReview">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Ready now:
            </div>
            <div class = "col-md-3">
              <input type="text" name="ready" placeholder="ready">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Special wine:
            </div>
            <div class = "col-md-3">
              <input type="text" name="special" placeholder="special">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Recently added:
            </div>
            <div class = "col-md-3">
              <input type="text" name="recentlyAdded" placeholder="recentlyAdded">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Food pairing:
            </div>
            <div class = "col-md-3">
              <input type="text" name="foodPairing" placeholder="foodPairing">
            </div>
            <br><br>
          </div>
          <div class="row">
            <div class = "col-md-3">
            </div>
            <div class = "col-md-3">
              Fields to delete:
            </div>
            <div class = "col-md-3">
              <input type="text" name="delete" placeholder="field1,field2,...">
            </div>
            <br><br>
          </div>
          <div class="hidden" id="convertbutton">
            <label class = "btn btn-default center-block" >
              Convert <input type="submit" style="display:none" onclick="unhide(this,'downloadfile')">
            </label>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class = "row">
    <div class = "col-md-12 text-center">
      <div class = "hidden" id="downloadfile">
        <form method="post" action="/download">
          <input type="submit" value="Download" class = "btn btn-primary button-center">
        </form>
      </div>
    </div>
  </div>
</div>

<style>
  .button-center{
    text-align: center;
  }

  .hidden{
    display:none;
  }

  .unhidden{
    display:block;
  }
</style>
